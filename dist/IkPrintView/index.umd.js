(function(l,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(l=typeof globalThis<"u"?globalThis:l||self,e(l.index={},l.Vue))})(this,function(l,e){"use strict";const f=(n,d)=>{if(n.install=t=>{for(const o of[n,...Object.values(d??{})])t.component(o.name,o)},d)for(const[t,o]of Object.entries(d))n[t]=o;return n},u=["src"],m={name:"IkPrintView"},p=e.defineComponent({...m,props:{modelValue:{type:Boolean,default:!1},templateId:{},dataId:{},srcPrefix:{default:""},token:{},idKey:{default:"id"},width:{default:"100%"},height:{default:"calc(100vh - 186px)"}},emits:["update:modelValue"],setup(n,{emit:d}){const t=n,o=e.computed({get:()=>t.modelValue,set:s=>{d("update:modelValue",s)}}),i=e.reactive({src:"",showIframe:!1}),r=()=>{i.showIframe=!1,i.src=`${t.srcPrefix}/jmreport/view/${t.templateId}?token=${t.token??""}&${t.idKey}=${t.dataId}`,setTimeout(()=>{i.showIframe=!0},300)};return e.watch(()=>o.value,s=>{s&&r()}),e.onMounted(()=>{o.value&&r()}),(s,c)=>{const h=e.resolveComponent("el-dialog");return e.openBlock(),e.createBlock(h,{modelValue:o.value,"onUpdate:modelValue":c[0]||(c[0]=w=>o.value=w),fullscreen:"",title:"预览"},{default:e.withCtx(()=>[e.createElementVNode("div",{style:e.normalizeStyle({width:t.width,height:t.height})},[i.showIframe?(e.openBlock(),e.createElementBlock("iframe",{key:0,width:"100%",height:"100%",src:i.src,frameborder:"0"},null,8,u)):e.createCommentVNode("",!0)],4)]),_:1},8,["modelValue"])}}}),a=f(p);l.IkPrintView=a,l.default=a,Object.defineProperties(l,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
