(function(f,o){typeof exports=="object"&&typeof module<"u"?o(exports,require("vue"),require("element-plus")):typeof define=="function"&&define.amd?define(["exports","vue","element-plus"],o):(f=typeof globalThis<"u"?globalThis:f||self,o(f.index={},f.Vue,f["element-plus"]))})(this,function(f,o,_){"use strict";const b=(e,t)=>{if(e.install=n=>{for(const r of[e,...Object.values(t??{})])n.component(r.name,r)},t)for(const[n,r]of Object.entries(t))e[n]=r;return e},g=typeof btoa=="function",d=typeof Buffer=="function";typeof TextDecoder=="function"&&new TextDecoder;const p=typeof TextEncoder=="function"?new TextEncoder:void 0,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c=Array.prototype.slice.call(h);(e=>{let t={};return e.forEach((n,r)=>t[n]=r),t})(c);const l=String.fromCharCode.bind(String);typeof Uint8Array.from=="function"&&Uint8Array.from.bind(Uint8Array);const C=e=>e.replace(/=/g,"").replace(/[+\/]/g,t=>t=="+"?"-":"_"),m=g?e=>btoa(e):d?e=>Buffer.from(e,"binary").toString("base64"):e=>{let t,n,r,a,s="";const i=e.length%3;for(let u=0;u<e.length;){if((n=e.charCodeAt(u++))>255||(r=e.charCodeAt(u++))>255||(a=e.charCodeAt(u++))>255)throw new TypeError("invalid character found");t=n<<16|r<<8|a,s+=c[t>>18&63]+c[t>>12&63]+c[t>>6&63]+c[t&63]}return i?s.slice(0,i-3)+"===".substring(i):s},k=d?e=>Buffer.from(e).toString("base64"):e=>{let n=[];for(let r=0,a=e.length;r<a;r+=4096)n.push(l.apply(null,e.subarray(r,r+4096)));return m(n.join(""))},w=e=>{if(e.length<2){var t=e.charCodeAt(0);return t<128?e:t<2048?l(192|t>>>6)+l(128|t&63):l(224|t>>>12&15)+l(128|t>>>6&63)+l(128|t&63)}else{var t=65536+(e.charCodeAt(0)-55296)*1024+(e.charCodeAt(1)-56320);return l(240|t>>>18&7)+l(128|t>>>12&63)+l(128|t>>>6&63)+l(128|t&63)}},U=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,v=e=>e.replace(U,w),x=d?e=>Buffer.from(e,"utf8").toString("base64"):p?e=>k(p.encode(e)):e=>m(v(e)),A=(e,t=!1)=>t?C(x(e)):x(e),S=["src"],F=o.defineComponent({__name:"IKPreviewFile",props:{modelValue:{type:Boolean,default:!1},kkUrl:{required:!0,type:String,default:""},url:{required:!0,type:String,default:""},loadUrl:{type:String,default:""},fileName:{type:String,default:""}},setup(e){const t=e,n=o.ref(null),r=o.computed(()=>!t.kkUrl||!t.url?"":`${t.kkUrl}${encodeURIComponent(A(`${t.loadUrl}${t.url}${t.fileName?`&fullfilename=${t.fileName}`:""}`))}`),a=o.ref(t.modelValue);return o.watch(()=>t.modelValue,s=>{a.value=s}),(s,i)=>(o.openBlock(),o.createBlock(o.unref(_.ElDialog),{fullscreen:"",modelValue:a.value,"onUpdate:modelValue":i[0]||(i[0]=u=>a.value=u),"append-to-body":"","modal-class":"ik-file-preview-modal",onClose:i[1]||(i[1]=u=>s.$emit("update:modelValue",!1)),class:"ik-file-preview"},{default:o.withCtx(()=>[o.createElementVNode("iframe",{ref_key:"freamRef",ref:n,"cross-origin":"",src:r.value,frameborder:"0",allowfullscreen:"",seamless:""},null,8,S)]),_:1},8,["modelValue"]))}}),D="",y=b(F);f.IkPreviewFile=y,f.default=y,Object.defineProperties(f,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
